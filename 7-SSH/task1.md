# Настриваем

## 1. Какой по умолчанию используется порт для поключения?  
22-ой
## 2. Можно ли его изменить? если да то как?  
можно  
```
vim /etc/openssh/sshd_config
```
нужно поменять параметр Port  
## 3. Какая служба отвечает за обработку запросов на подключения по ssh?  
sshd  
## 4. Какой файл конфигурации отвечает за его настройку?
по пути /etc/openssh/sshd_config
## 5. Попробуйте подключиться по ssh к предоставленному вам серверу
```
ssh student@95.31.204.147 -p 227
```
## 6. Отредактируйте файл настроек на сервере так, чтобы была возможность подключиться к серверу используя пользователя root
```
sudo vim /etc/openssh/sshd_config
```
тут я расскомментировал строчку PermitRootLogin without-password и поменял значение параметра на yes  
а потом перезапустил юнит, чтобы он принял во внимание мои изменения:
```
sudo systemctl restart sshd
```
ещё я поменял пароль рута на 123 с помощью passwd
## 7. Измените колличество ошибок ввода пароля перед сборосом соединения, покажите эти измененения
снова лезу в конфиг
```
vim /etc/openssh/sshd_config
```
там есть параметр отвечающий за макс. кол-во попыток аутентификации - MaxAuthTries  
я его раскомментировал и поменял значение с 6 на 1  
```
sudo systemctl restart sshd
```
![ну и после первой неудачной попытки ввода, он сразу же меня шлёт подальше](https://github.com/user-attachments/assets/e28aa3e7-85df-4f9b-b228-415316211115)
## 8. Создайте пользователя ssh-user и попробуйте им подключиться к серверу
```
adduser ssh-user
passwd ssh-user
```
создал пользователя и поставил пароль 123
```
ssh ssh-user@95.31.204.147 -p 240
```
получилось!
## 9. Ограничте ему возможность подключения к серверу
## 10. Как вы это сделали?
изменил конфиг ssh, добавив туда строчку "DenyUsers ssh-user", а потом перезапустил юнит
## 11. Что хранится в файле known_hosts?
список известных ключей серверов
